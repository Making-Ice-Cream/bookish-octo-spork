import {  Layout, message } from "antd";
import React, { useContext, useEffect, useState , createContext} from "react";
import {  FaceThresholdDistanceContext } from "./faceThresholdDistance";
import { createMatcher } from "./faceUtils";
import ProcessFaceReco from "./ProcessfaceReco";
import * as faceapi from 'face-api.js';
import fetch from 'sync-fetch';

import { Typography, Button, Stack } from '@mui/material';

const AuthContext = createContext({
    user: null,
    login: (userData) => {},
    logout: () => {},
  });

export default (props) => {
  const { user } = useContext(AuthContext);
  const { threshold} = useContext(
    FaceThresholdDistanceContext
  );
  
 let arr = `[
   -0.2291872799396515,0.022543134167790413,0.03704426437616348,-0.07146889716386795,-0.03930401802062988,-0.039992555975914,0.06822795420885086,0.0044375211000442505,0.22416001558303833,-0.05134955421090126,0.21213790774345398,0.019195644184947014,-0.20147818326950073,-0.11292430013418198,-0.0040704295970499516,0.03901936858892441,-0.11396753787994385,-0.11471369117498398,-0.08944109082221985,-0.1133018434047699,0.08046340197324753,0.009664993733167648,0.06139795854687691,0.07934863120317459,-0.1427222490310669,-0.319230854511261,-0.09775807708501816,-0.14609234035015106,0.0765158161520958,-0.13782787322998047,0.0062293242663145065,-0.014567887410521507,-0.2251306176185608,-0.11851178109645844,-0.02459222450852394,0.13440386950969696,0.00267727579921484,-0.04124514013528824,0.19485382735729218,-0.05004129558801651,-0.108906589448452,-0.06055893003940582,0.03280741721391678,0.2563757300376892,0.11825654655694962,0.014796415343880653,-0.02392572909593582,0.0070559862069785595,0.11538121104240417,-0.266154021024704,0.10982278734445572,0.13922487199306488,0.15363815426826477,0.01606581173837185,0.14727801084518433,-0.07342097908258438,0.03310758247971535,0.13754726946353912,-0.2101786583662033,0.12091462314128876,0.02839786559343338,-0.0019046355737373233,-0.08359026908874512,-0.03406696766614914,0.1580016016960144,0.15016883611679077,-0.10253967344760895,-0.12840598821640015,0.14408499002456665,-0.15862132608890533,0.03026566654443741,0.1295430213212967,-0.09515146166086197,-0.2187012881040573,-0.17252086102962494,0.12936006486415863,0.4280589520931244,0.17890867590904236,-0.1448867917060852,0.05236303433775902,-0.0984753966331482,-0.013348252512514591,0.06936852633953094,-0.013096661306917667,-0.14732077717781067,0.08298324048519135,-0.11706962436437607,0.10832694172859192,0.1123766303062439,0.06887207925319672,-0.06093043088912964,0.19867043197155,0.0007004296639934182,0.05632106959819794,0.0829976499080658,0.004615901503711939,-0.05325321480631828,-0.0016793604008853436,-0.13281160593032837,0.04490817338228226,0.1303422600030899,-0.10844096541404724,0.00679525313898921,0.01888383738696575,-0.09547341614961624,0.058637429028749466,-0.017379984259605408,-0.031821783632040024,-0.028734417632222176,0.02880799025297165,-0.1747223436832428,-0.02461891807615757,0.12827524542808533,-0.25724050402641296,0.20537875592708588,0.12757068872451782,-0.05895493924617767,0.1539035141468048,0.07740873843431473,0.0595160610973835,0.06528323888778687,-0.0192251019179821,-0.08083881437778473,-0.041766826063394547,0.07896242290735245,-0.05222886800765991,0.09517565369606018,-0.01563401333987713
]`
let deep = `[
  -0.21565236151218414,0.06647365540266037,-0.016015779227018356,-0.021498290821909904,0.020272260531783104,-0.06540375202894211,0.04140318185091019,-0.08975923806428909,0.21056623756885529,-0.08245290070772171,0.21364940702915192,-0.002249630633741617,-0.1644919216632843,-0.13627591729164124,0.07012365013360977,0.08532723039388657,-0.1946326196193695,-0.1112031638622284,-0.06961119920015335,-0.16264623403549194,0.0986347645521164,-0.013102584518492222,0.051863230764865875,0.1102655827999115,-0.20129193365573883,-0.30385467410087585,-0.11108029633760452,-0.21407735347747803,0.0308536347001791,-0.08190891891717911,0.0041451468132436275,-0.012219110503792763,-0.19722500443458557,-0.056962840259075165,-0.028844205662608147,0.07132918387651443,0.03516600281000137,-0.060284573584795,0.18411868810653687,-0.056503210216760635,-0.08061625063419342,-0.0872870683670044,0.0029534492641687393,0.21434955298900604,0.09716954082250595,-0.004959330428391695,0.03339512273669243,0.0076560103334486485,0.1059495136141777,-0.19156648218631744,0.052592623978853226,0.10235230624675751,0.08264362812042236,0.026634687557816505,0.11775003373622894,-0.16994954645633698,0.006133332848548889,0.11378254741430283,-0.19629770517349243,0.05503961816430092,-0.008363069035112858,-0.04560507461428642,-0.06381463259458542,-0.0158158577978611,0.25808966159820557,0.15858982503414154,-0.1413910984992981,-0.10756663978099823,0.15781033039093018,-0.0900045856833458,0.03269943222403526,0.08661321550607681,-0.11993293464183807,-0.22210636734962463,-0.24083203077316284,0.11508335173130035,0.44855254888534546,0.1255566030740738,-0.15663018822669983,0.03026711568236351,-0.16560295224189758,-0.028480634093284607,0.055282142013311386,0.03867333382368088,-0.10846812278032303,0.05692359805107117,-0.1369635909795761,0.0831291675567627,0.11115054041147232,0.06363927572965622,-0.06793884932994843,0.18224884569644928,-0.05287661775946617,0.036042459309101105,0.01822134107351303,0.017239607870578766,-0.13342690467834473,-0.009733802638947964,-0.04773920774459839,0.019017565995454788,0.07892940938472748,-0.07172763347625732,-0.03265916183590889,0.0882059708237648,-0.12527316808700562,0.08529951423406601,-0.005791789852082729,-0.0506487600505352,-0.11357344686985016,0.02903224341571331,-0.14539103209972382,0.005391943734139204,0.08644991368055344,-0.28520432114601135,0.15491783618927002,0.13193638622760773,-0.020539890974760056,0.23392239212989807,0.008106698282063007,0.057613104581832886,-0.014383452013134956,-0.016249127686023712,-0.1828099936246872,-0.02166874334216118,0.08842571824789047,-0.01256409753113985,0.0697944313287735,0.009599168784916401
]`

let deep1 = `[
  -0.174773171544075,0.045239515602588654,-0.005491212010383606,-0.030346043407917023,0.019825778901576996,-0.0692688599228859,0.057574667036533356,-0.0754622370004654,0.24888718128204346,-0.055150337517261505,0.21303631365299225,-0.003314813831821084,-0.1875012069940567,-0.12021742016077042,0.07135158032178879,0.08322674036026001,-0.19998373091220856,-0.07138892263174057,-0.04684288427233696,-0.0976942926645279,0.10541016608476639,-0.007894611917436123,0.09878838062286377,0.11297882348299026,-0.16578881442546844,-0.28995010256767273,-0.10292433202266693,-0.20743118226528168,0.06600825488567352,-0.06415926665067673,-0.04914215952157974,0.006812146864831448,-0.18526394665241241,-0.08656024187803268,-0.01050496194511652,0.07337860018014908,0.003945087548345327,-0.08158750832080841,0.20168344676494598,-0.06041619926691055,-0.11014236509799957,-0.060410723090171814,-0.00421011121943593,0.1932949423789978,0.1038089394569397,-0.014167886227369308,0.013196682557463646,-0.04277447611093521,0.124915212392807,-0.1872388869524002,0.05951472371816635,0.11005628108978271,0.08621453493833542,0.02983647771179676,0.12627224624156952,-0.15373626351356506,0.05479174479842186,0.13347439467906952,-0.2364571988582611,0.07520243525505066,0.025183500722050667,-0.03174829110503197,-0.022204749286174774,0.002181426389142871,0.23354662954807281,0.13089674711227417,-0.14048512279987335,-0.10830904543399811,0.08976500481367111,-0.08681359142065048,0.048335760831832886,0.13870763778686523,-0.13232187926769257,-0.24204102158546448,-0.21930523216724396,0.11028727889060974,0.4416009485721588,0.12267906218767166,-0.14042849838733673,0.041625168174505234,-0.12910813093185425,-0.06643613427877426,0.086452916264534,0.08069305866956711,-0.11225669085979462,0.04768593981862068,-0.1400289535522461,0.08066649734973907,0.08575446158647537,0.04545216262340546,-0.045533452183008194,0.2267039716243744,-0.04232550412416458,0.055552177131175995,0.0048521761782467365,0.0354786142706871,-0.12947432696819305,0.015319946222007275,-0.05312786251306534,0.006919551640748978,0.11043322086334229,-0.0801059678196907,-0.013074030168354511,0.07815317809581757,-0.13102987408638,0.044738367199897766,-0.019161101430654526,-0.039559558033943176,-0.05370033532381058,-0.022113243117928505,-0.11933530122041702,-0.004490457475185394,0.06876435875892639,-0.30207422375679016,0.157161146402359,0.10593437403440475,-0.0019941029604524374,0.1860865354537964,-0.01586168259382248,0.048224080353975296,-0.0004764834593515843,-0.018317336216568947,-0.16281773149967194,0.026643995195627213,0.11628370732069016,-0.012061089277267456,0.0906752496957779,-0.018723148852586746
]`

let deep2 = `[
  -0.21017925441265106,0.026471011340618134,-0.004156949929893017,-0.01480966154485941,-0.039898402988910675,-0.05601460859179497,0.04614105075597763,0.019712375476956367,0.18236961960792542,-0.032345954328775406,0.14912578463554382,0.00469793938100338,-0.16328048706054688,-0.03835006058216095,-0.017056496813893318,0.07766998559236526,-0.2044338583946228,-0.10874203592538834,-0.04282188042998314,-0.09786419570446014,0.08908296376466751,0.04510354623198509,-0.005297335796058178,0.13471513986587524,-0.16029998660087585,-0.22358210384845734,-0.05298025161027908,-0.21207080781459808,0.0898013636469841,-0.13266201317310333,0.031541112810373306,-0.016736706718802452,-0.1817236989736557,0.016966553404927254,-0.04371897131204605,0.021132763475179672,0.03488214686512947,-0.08077438175678253,0.24321648478507996,0.006821468006819487,-0.13940073549747467,-0.06937822699546814,-0.013936681672930717,0.29445090889930725,0.09771192818880081,-0.020767951384186745,0.001969928154721856,0.007763969711959362,0.11743856966495514,-0.26420173048973083,0.057062502950429916,0.16025741398334503,0.09015893191099167,0.03930474817752838,0.07234086096286774,-0.14442981779575348,0.05046446621417999,0.10932692140340805,-0.20847071707248688,0.1374608278274536,0.03547431528568268,0.02573040872812271,-0.020086899399757385,-0.0164483692497015,0.2010057270526886,0.09398093819618225,-0.10966121405363083,-0.1080615296959877,0.1634765863418579,-0.1653648465871811,-0.03180140256881714,0.13805268704891205,-0.06669646501541138,-0.23595663905143738,-0.1711423099040985,0.07223900407552719,0.4275616705417633,0.22376403212547302,-0.1573740541934967,0.060863129794597626,-0.14973542094230652,-0.0515822097659111,0.09692838042974472,0.03713095560669899,-0.11818575859069824,0.05420243740081787,-0.12663431465625763,0.08043361455202103,0.16881923377513885,0.087210513651371,-0.027721324935555458,0.21816091239452362,0.04651752859354019,-0.035637564957141876,-0.000680585450027138,-0.0070654600858688354,-0.04302096366882324,0.0022739097476005554,-0.03784942626953125,0.008569631725549698,0.09451992064714432,-0.07981182634830475,0.0038750716485083103,0.09199324995279312,-0.18832021951675415,0.1468532234430313,0.02094128355383873,-0.04570049047470093,-0.06990677118301392,0.07110196352005005,-0.13255707919597626,0.05772843211889267,0.1281777173280716,-0.25502756237983704,0.18781715631484985,0.11696860194206238,0.03380676731467247,0.16006502509117126,0.0009402119903825223,0.05451853945851326,-0.011024845764040947,-0.07572750002145767,-0.16024848818778992,-0.053637053817510605,0.06891762465238571,-0.04193076491355896,0.0805780440568924,0.03976929187774658
]`

//  alert(typeof arr)

 let arr2 = `[
   -0.037911392748355865,0.08074906468391418,-0.018619760870933533,-0.09523102641105652,-0.10818879306316376,-0.052365824580192566,-0.06370935589075089,-0.0843338593840599,0.16279754042625427,-0.11973017454147339,0.2584543824195862,-0.025320952758193016,-0.19512660801410675,-0.07152708619832993,-0.06447738409042358,0.18076975643634796,-0.1674623340368271,-0.16868184506893158,-0.04543737694621086,0.02824234776198864,0.10215997695922852,-0.027868129312992096,0.0228049848228693,0.0968838557600975,-0.10689572989940643,-0.3311000168323517,-0.12565097212791443,-0.03590455651283264,-0.0374942310154438,-0.08172424137592316,0.015719009563326836,-0.017096832394599915,-0.21770763397216797,-0.03331010788679123,0.03820136934518814,0.07468441128730774,-0.059120163321495056,-0.142744779586792,0.18655169010162354,-0.00705685093998909,-0.29241296648979187,0.07117059081792831,0.08086130768060684,0.24500299990177155,0.14322401583194733,0.01506916992366314,0.04130888730287552,-0.17010927200317383,0.12461885064840317,-0.157539501786232,0.03533519059419632,0.1732187718153,0.04225665330886841,0.041293662041425705,-0.00601497758179903,-0.09811373054981232,0.06134793534874916,0.16760359704494476,-0.14548885822296143,-0.010794596746563911,0.07082534581422806,-0.012390862219035625,-0.04025418311357498,-0.15361502766609192,0.18856000900268555,0.07967032492160797,-0.14708875119686127,-0.24372448027133942,0.09765546768903732,-0.19668462872505188,-0.10662807524204254,0.1490216702222824,-0.16519783437252045,-0.25676876306533813,-0.3045516014099121,0.0059322789311409,0.3701612949371338,0.14555129408836365,-0.1390455961227417,0.07953883707523346,-0.007316406816244125,0.018793465569615364,0.0796223059296608,0.19240273535251617,0.01268269307911396,0.09909671545028687,-0.1121121272444725,0.025277959182858467,0.2781830430030823,-0.04755134508013725,-0.05269435793161392,0.24786219000816345,-0.0001713130623102188,0.06127503514289856,0.008724544197320938,0.036569979041814804,-0.05362646281719208,0.03540712594985962,-0.16272568702697754,0.0049344757571816444,0.01840040646493435,0.007439219858497381,-0.06161477416753769,0.08469493687152863,-0.141959086060524,0.11201616376638412,-0.014421572908759117,0.01761244423687458,-0.027146099135279655,0.000585801899433136,-0.11177386343479156,-0.07000435143709183,0.11331808567047119,-0.23734432458877563,0.19794441759586334,0.17556944489479065,0.14800576865673065,0.07645151019096375,0.16063885390758514,0.04999011754989624,-0.01292116753757,-0.07531166076660156,-0.24154910445213318,-0.0015170658007264137,0.06744429469108582,-0.05059349536895752,0.1278417706489563,-0.04663509503006935
  ]`

 let arr3 = `[
   -0.07362257689237595,0.06549331545829773,-0.008781536482274532,-0.06106012314558029,-0.10820174962282181,-0.0815914124250412,-0.0601155161857605,-0.07410654425621033,0.1634828746318817,-0.15478259325027466,0.2517004907131195,-0.08138740062713623,-0.20578840374946594,-0.07277484983205795,-0.057398680597543716,0.19333496689796448,-0.17966461181640625,-0.11888960003852844,-0.05875125527381897,0.026381349191069603,0.09801928699016571,-0.028391651809215546,0.05926033854484558,0.08876252174377441,-0.14263515174388885,-0.3468853533267975,-0.10103369504213333,-0.05048003047704697,-0.035677164793014526,-0.0938725546002388,-0.01996314898133278,-0.0016931863501667976,-0.17680184543132782,-0.025030169636011124,0.032801758497953415,0.1253228783607483,-0.03278068080544472,-0.10004400461912155,0.1948052942752838,-0.0030706049874424934,-0.2741214632987976,0.029104415327310562,0.061453625559806824,0.2690301537513733,0.1622651070356369,0.028562316671013832,0.00776754692196846,-0.1882147639989853,0.17532344162464142,-0.16008420288562775,0.009737949818372726,0.12688517570495605,0.01683996431529522,0.03925032541155815,0.027847247198224068,-0.0864439383149147,0.07487630844116211,0.18993358314037323,-0.15846794843673706,-0.023019548505544662,0.07895758748054504,-0.006723123602569103,-0.02263627201318741,-0.1344069540500641,0.23303569853305817,0.0650474801659584,-0.16120068728923798,-0.20602771639823914,0.10964968055486679,-0.19213466346263885,-0.08010167628526688,0.14019152522087097,-0.14127126336097717,-0.23401722311973572,-0.3320309519767761,-0.0393400602042675,0.3869306147098541,0.145858496427536,-0.1540798544883728,0.02443639561533928,-0.025209473446011543,-0.011727351695299149,0.13558055460453033,0.1859450489282608,0.00937856175005436,0.07310320436954498,-0.1379721611738205,0.008048683404922485,0.26744648814201355,-0.053253691643476486,-0.03349893167614937,0.2319832593202591,0.025165710598230362,0.08583416044712067,-0.00955604575574398,-0.002581932581961155,-0.13240031898021698,0.03575173765420914,-0.19091133773326874,-0.020146507769823074,-0.0011005542473867536,0.001948665827512741,-0.044232629239559174,0.09240851551294327,-0.1353130340576172,0.12630386650562286,0.012074744328856468,0.013643922284245491,-0.01825033500790596,0.009577345103025436,-0.13435550034046173,-0.06885205209255219,0.10735388845205307,-0.24199353158473969,0.1581634283065796,0.16672661900520325,0.17225249111652374,0.0846443623304367,0.15331634879112244,0.04550297558307648,-0.03059849888086319,-0.024301737546920776,-0.23505283892154694,0.025409920141100883,0.05463148653507233,-0.055646367371082306,0.13369911909103394,-0.0469605028629303
 ]`

 let arr4 =`[
   -0.002945493906736374,0.07337893545627594,-0.04870981723070145,-0.10295671969652176,-0.08298460394144058,-0.08760520815849304,-0.06273607909679413,-0.10209114104509354,0.17281165719032288,-0.12259086966514587,0.24092043936252594,-0.08523409068584442,-0.23068122565746307,-0.08485247194766998,-0.07022517919540405,0.19353356957435608,-0.17286570370197296,-0.15802405774593353,-0.03520207107067108,0.03242062032222748,0.10069696605205536,-0.028233636170625687,0.06559217721223831,0.14256079494953156,-0.08384323865175247,-0.3242489993572235,-0.13016274571418762,-0.033633459359407425,-0.05533750355243683,-0.09267924726009369,0.003521850798279047,0.012362433597445488,-0.20451395213603973,-0.034176055341959,0.058558445423841476,0.09297916293144226,-0.012434618547558784,-0.12913179397583008,0.1867871880531311,0.01851474493741989,-0.26946568489074707,0.057440683245658875,0.06749945878982544,0.2669086456298828,0.12353596091270447,0.030343756079673767,0.009767796844244003,-0.1954164206981659,0.11085391044616699,-0.1531793177127838,0.009294720366597176,0.1518768072128296,-0.00022873282432556152,0.02351490408182144,0.009783750399947166,-0.10572212189435959,0.09213218092918396,0.14674362540245056,-0.15406671166419983,-0.0454731360077858,0.07918375730514526,-0.010680845007300377,-0.038444921374320984,-0.14612334966659546,0.25556591153144836,0.06760674715042114,-0.14975126087665558,-0.24717764556407928,0.1084432378411293,-0.18039588630199432,-0.11409180611371994,0.1571010947227478,-0.14401346445083618,-0.21300452947616577,-0.2937312126159668,-0.009761165827512741,0.3930535614490509,0.14548809826374054,-0.16990122199058533,0.10183257609605789,-0.04518274590373039,0.025528354570269585,0.11634377390146255,0.1824924647808075,0.027809709310531616,0.117074154317379,-0.14479057490825653,0.009544607251882553,0.24099421501159668,-0.060931622982025146,-0.061897389590740204,0.2409105747938156,0.009397340938448906,0.11065634340047836,0.028880877420306206,-0.008243965916335583,-0.07678178697824478,0.06095888093113899,-0.21199683845043182,-0.0092241819947958,0.022905996069312096,0.047780122607946396,-0.052304707467556,0.08207602798938751,-0.12625285983085632,0.093044713139534,0.01800036057829857,-0.032001983374357224,-0.028728345409035683,0.03359495475888252,-0.12634505331516266,-0.0764230415225029,0.08950148522853851,-0.31077224016189575,0.1922733187675476,0.14943695068359375,0.18536795675754547,0.07174736261367798,0.1388753354549408,0.0637875646352768,-0.007322604767978191,-0.07360877841711044,-0.2222764492034912,0.0053880829364061356,0.08811786025762558,-0.03543929010629654,0.13103774189949036,-0.05314340814948082
 ]`
 

const metadata = fetch('http://localhost/student/StudentsData', {
  method: 'GET',
  headers: {
    Accept: 'application/vnd.citationstyles.csl+json'
  }
}).json()

console.log(metadata);
console.log(metadata.data[0]._id);
let stateHook = []

for(let i = 0 ; i < metadata.data.length ; i++){

  let temp_obj = {
    student : {
      _id : metadata.data[i]._id
    },
    facePhotos : [
      {
        faceDescriptor : metadata.data[i].descriptor1
      },
      {
        faceDescriptor : metadata.data[i].descriptor2
      },
      {
        faceDescriptor : metadata.data[i].descriptor3
      }
    ]
  }
  console.log(temp_obj)
  stateHook.push(temp_obj)
}

console.log(stateHook)
 const [participants, setParticipants] = useState([]);
//   const [facePhotos, setFacePhotos] = useState([
//     {
//     student : {
//       _id : "Deepak Yadav"
//     },
//     facePhotos : [
//       {
//       faceDescriptor : arr
//       },
//       {
//         faceDescriptor : deep
//       },
//       {
//         faceDescriptor : deep1
//       },
//       {
//         faceDescriptor : deep2
//       }

//     ]
//     },
//     {
//       student : {
//         _id : "Shreenav Khandelwal"
//       },
//       facePhotos : [
//         {
//         faceDescriptor : arr2
//         },
//         {
//           faceDescriptor : arr3
//           },
//           {
//             faceDescriptor : arr4
//           }
  
//       ]
//     }
// ]);
const [facePhotos, setFacePhotos] = useState(stateHook);

  console.log(facePhotos.length)
  const [faceMatcher, setFaceMatcher] = useState(null);
  // const [faceMatchers, setFaceMatchers] = useState(null);
  const [mode, setMode] = useState("WIFI");
  const [isOn, setIsOn] = useState(true);



  const [absentees, setAbsentees] = useState([]);
  const [course, setCourse] = useState({});
  
const data = "";


  useEffect(() => {
    if (data) {
      setCourse(data.getFaceMatcherInCourse.course);
      setParticipants(data.getFaceMatcherInCourse.matcher);
      setAbsentees(data.getFaceMatcherInCourse.matcher);
      data.getFaceMatcherInCourse.matcher.map((item) => {
        item.facePhotos.map((photo) =>
          setFacePhotos((prevState) => [...prevState, photo])
        );
      });

      if (data.getFaceMatcherInCourse.matcher.length === 0) {
        message.info("Course do not have any participant yet!");
      }
    }
  }, [data, participants]);


 
  useEffect(() => {
    async function matcher() {
      //check there should be at least one matcher
      if (
        // data.getFaceMatcherInCourse.matcher.length > 0 &&
        // facePhotos.length > 0
        true
      ) {
        // const validMatcher = data.getFaceMatcherInCourse.matcher.filter(
        //   (m) => m.facePhotos.length > 0
        // );
        // console.log(validMatcher);
      
        // let validMatcher = "https://imgur.com/a/7vT19OW";
        const profileList = await createMatcher(facePhotos, threshold);
        // alert("helo from line 84")
        console.log(profileList)
        setFaceMatcher(profileList);
      }
    }
    
      matcher();
    
  }, []);

  // function loadLabeledImages() {
  //   const labels = ['Black Widow']
  //   return Promise.all(
  //     labels.map(async label => {
  //       const descriptions = []
        
  //         const img = await faceapi.fetchImage(`https://res.cloudinary.com/dolt1gotu/image/upload/v1648824420/WIN_20220401_19_31_51_Pro_apxofc.jpg`)
  //         const detections = await faceapi.detectSingleFace(img).withFaceLandmarks().withFaceDescriptor()
  //         descriptions.push(detections.descriptor)
        
  
  //       return new faceapi.LabeledFaceDescriptors(label, descriptions)
  //     })
  //   )
  // }

  // useEffect(async ()=>{
  //   const labeledFaceDescriptors = await loadLabeledImages()
  //   const faceMatcher = new faceapi.FaceMatcher(labeledFaceDescriptors, 0.6);
  //   console.log("important line" + faceMatcher)
  //   setFaceMatcher(faceMatcher);
  // },[])

 const { Content } = Layout;

  return (
    <Layout className="container" style={{margin: 20}}>
      <Stack >
        <Typography variant = "h2" align = "center" style={{color: 'green' , fontFamily: 'Beau Rivage' , textDecoration: 'underline'}}>
            Marking Attendence Using Face Recognition
        </Typography> 
        {/* <Button> Hello</Button> */}
      </Stack>
      
      <Layout>
        <Content>
         <ProcessFaceReco
                {...props}
                // faceMatcher={faceMatcher}
                faceMatcher={faceMatcher}
                facePhotos={facePhotos}
                participants={participants}
              />

        </Content>

        
      </Layout>
    </Layout>
  );
};